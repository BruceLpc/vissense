/*! { "name": "vissense", "version": "0.1.0-rc1", "copyright": "(c) 2014 tbk" } */

!function(a,b,c,d){"use strict";function e(b){var c=b&&b.ownerDocument;return c?c.defaultView||c.parentWindow:a}function f(a,b){return function(){return(m(a)?a():a)?b():d}}function g(a,b,c){for(var d=-1,e=Object.keys(b),f=e.length;++d<f;){var g=e[d];a[g]=c?c(a[g],b[g],g,a,b):b[g]}return a}function h(){}function i(a){return a}function j(){return(new Date).getTime()}function k(b){return a.setTimeout(function(){b()},0)}function l(a){return a===Object(a)}function m(a){return"function"==typeof a}function n(a,b){if(!l(a))return b;for(var c=Object.keys(b),d=0,e=c.length;e>d;d++){var f=c[d];void 0===a[f]&&(a[f]=b[f])}return a}function o(a){var b=a.getBoundingClientRect();return b.height===d||b.width===d?g({height:a.clientHeight,width:a.clientWidth},b):b}function p(b){var c=b?e(b):a;return c.innerWidth===d?{height:c.document.documentElement.clientHeight,width:c.document.documentElement.clientWidth}:{height:c.innerHeight,width:c.innerWidth}}function q(a){if(!a.offsetParent){var b=r(a,"position");if("fixed"!==b)return!1}return!0}function r(a,b,c){if(a.style!==d){var f=c||e(a),g=f.getComputedStyle(a,null);return g&&g.getPropertyValue(b)}}function s(a){var b=r(a,"display",e(a));if("none"===b)return!1;var c=r(a,"visibility",e(a));return"hidden"===c||"collapse"===c?!1:a.parentNode&&a.parentNode.style?s(a.parentNode):!0}function t(a){if(a===e(a).document)return!0;if(!a||!a.parentNode)return!1;if(!q(a))return!1;var b=s(a);return b!==!0?!1:!0}function u(a,b){return!a||a.width<=0||a.height<=0?!1:a.bottom>0&&a.right>0&&a.top<b.height&&a.left<b.width}function v(a){if(!x())return 0;var c=o(a),d=p(a);if(!u(c,d)||!t(a))return 0;var e=0,f=0;return c.top>=0?e=b.min(c.height,d.height-c.top):c.bottom>0&&(e=b.min(d.height,c.bottom)),c.left>=0?f=b.min(c.width,d.width-c.left):c.right>0&&(f=b.min(d.width,c.right)),e*f/(c.height*c.width)}function w(){return!!A}function x(){return A?!c.hidden():!0}function y(a){A&&c.change(a)}function z(a,b){if(!(this instanceof z))return new z(a,b);if(!a||1!==a.nodeType)throw new Error("not an element node");this._element=a,this._config=n(b,{fullyvisible:1,hidden:0})}var A=c&&c.change&&c.isSupported&&c.isSupported();a.VisSenseUtils=g({},{fireIf:f,noop:h,identity:i,isObject:l,isFunction:m,defaults:n,extend:g,now:j,defer:k,isPageVisibilityAPIAvailable:w,isPageVisible:x,onPageVisibilityChange:y,percentage:v,isVisibleByStyling:t,_window:e,_viewport:p,_isInViewport:u,_getBoundingClientRect:o,_isDisplayed:s,_findEffectiveStyleProperty:r}),z.prototype.percentage=function(){return v(this._element)},z.prototype.isFullyVisible=function(){return v(this._element)>=this._config.fullyvisible},z.prototype.isVisible=function(){return!this.isHidden()},z.prototype.isHidden=function(){return v(this._element)<=this._config.hidden},z.prototype.fireIfFullyVisible=function(a){var b=this;return f(function(){return b.isFullyVisible()},a)},z.prototype.fireIfVisible=function(a){var b=this;return f(function(){return b.isVisible()},a)},z.prototype.fireIfHidden=function(a){var b=this;return f(function(){return b.isHidden()},a)},z.fn=z.prototype,z.version="0.1.0-rc1",z.of=function(a,b){return new z(a,b)},a.VisSense=z}(window,Math,window.Visibility||null,void 0);
//# sourceMappingURL=vissense.min.js.map